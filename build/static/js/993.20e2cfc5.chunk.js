"use strict";(self.webpackChunkreact_ecommerce=self.webpackChunkreact_ecommerce||[]).push([[993],{5993:function(e,s,t){t.r(s),t.d(s,{default:function(){return j}});var a=t(4165),r=t(1413),n=t(5861),l=t(9439),i=t(9434),c=t(1134),o=t(2963),d=t(1087),m=t(7689),u=t(1469),x=t(2791),p=t(6856),g=t(9129),f=t(1141),h=t(9093),b=t(184);function w(){var e=(0,i.I0)(),s=(0,i.v9)(o.ef),t=(0,c.cI)(),w=t.register,j=t.handleSubmit,v=t.formState.errors,y=(0,x.useState)(!1),N=(0,l.Z)(y,2),Z=(N[0],N[1]),k=(0,x.useState)(!1),S=(0,l.Z)(k,2),F=S[0],q=S[1],P=(0,x.useState)(""),C=(0,l.Z)(P,2),_=C[0],E=C[1],I=(0,x.useState)(!0),U=(0,l.Z)(I,2),A=U[0],L=U[1],M=(0,x.useState)(!1),z=(0,l.Z)(M,2),D=z[0],R=z[1],V=(0,i.v9)(o.uo);function W(){return(W=(0,n.Z)((0,a.Z)().mark((function e(s){var t,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=s.target.files[0])){e.next=19;break}return s.preventDefault(),q(!0),e.prev=4,e.next=7,(0,u.c)(t);case 7:r=e.sent,q(!1),E(r.url),L(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(4),alert.error("Error uploading image: ".concat(e.t0.message)),q(!1);case 17:e.next=20;break;case 19:alert.error("No image selected. Please try again.");case 20:case"end":return e.stop()}}),e,null,[[4,13]])})))).apply(this,arguments)}return(0,b.jsxs)(b.Fragment,{children:[s&&(0,b.jsx)(m.Fg,{to:"/",replace:!0}),(0,b.jsx)("div",{className:"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8",children:(0,b.jsxs)("div",{className:"bg-white w-[400px] p-8 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 rounded-md",style:{boxShadow:" rgba(60, 64, 67, 0.3) 0px 1px 2px 0px, rgba(60, 64, 67, 0.15) 0px 1px 3px 1px"},children:[(0,b.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-sm flex flex-col justify-center items-center",children:[(0,b.jsx)("img",{className:"h-20 w-20 object-cover ml-2 rounded-full",src:h,alt:"Roshan Market"}),(0,b.jsx)("h2",{className:"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900",children:"Create a New Account"})]}),(0,b.jsxs)("div",{className:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm",children:[(0,b.jsxs)("form",{noValidate:!0,className:"space-y-6",onSubmit:j((function(s){e((0,o.hR)({name:s.name,email:s.email,password:s.password,addresses:[],role:"user",imageUrl:_})),Z(!0)})),children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium leading-6 text-gray-900",children:"Full Name"}),(0,b.jsxs)("div",{className:"mt-2",children:[(0,b.jsx)("input",(0,r.Z)((0,r.Z)({id:"name"},w("name",{required:"name is required"})),{},{type:"text",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:!ring-blue-800 sm:text-sm sm:leading-6"})),v.name&&(0,b.jsx)("p",{className:"text-red-500",children:v.name.message})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium leading-6 text-gray-900",children:"Email address"}),(0,b.jsxs)("div",{className:"mt-2",children:[(0,b.jsx)("input",(0,r.Z)((0,r.Z)({id:"email"},w("email",{required:"email is required",pattern:{value:/\b[\w\.-]+@[\w\.-]+\.\w{2,4}\b/gi,message:"email not valid"}})),{},{type:"email",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-800 sm:text-sm sm:leading-6"})),v.email&&(0,b.jsx)("p",{className:"text-red-500",children:v.email.message})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"flex items-center justify-between",children:(0,b.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium leading-6 text-gray-900",children:"Password"})}),(0,b.jsxs)("div",{className:"mt-2",children:[(0,b.jsx)("input",(0,r.Z)((0,r.Z)({id:"password"},w("password",{required:"password is required",pattern:{value:/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$/gm,message:"- at least 8 characters\n\n                      - must contain at least 1 uppercase letter, 1 lowercase letter, and 1 number\n\n                      - Can contain special characters"}})),{},{type:"password",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-800 sm:text-sm sm:leading-6"})),v.password&&(0,b.jsx)("p",{className:"text-red-500",children:v.password.message})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"flex items-center justify-between",children:(0,b.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium leading-6 text-gray-900",children:"Confirm Password"})}),(0,b.jsxs)("div",{className:"mt-2",children:[(0,b.jsx)("input",(0,r.Z)((0,r.Z)({id:"confirmPassword"},w("confirmPassword",{required:"confirm password is required",validate:function(e,s){return e===s.password||"password not matching"}})),{},{type:"password",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-800 sm:text-sm sm:leading-6"})),v.confirmPassword&&(0,b.jsx)("p",{className:"text-red-500",children:v.confirmPassword.message})]})]}),F&&(0,b.jsx)("div",{className:"w-28 h-28 flex items-center justify-center",children:(0,b.jsx)(f.Z,{color:"#4F46E5"})}),(0,b.jsx)("input",{type:"file",id:"images",onChange:function(e){return W.apply(this,arguments)},accept:"image/*",hidden:!0}),v.images&&(0,b.jsx)("p",{className:"text-red-500",children:v.images.message}),!F&&A&&(0,b.jsx)("div",{className:"w-32 h-32 flex items-center justify-center rounded-full bg-gray-200 cursor-pointer ",children:(0,b.jsxs)("label",{htmlFor:"images",className:"flex flex-col items-center text-center justify-center rounded-lg bg-gray-200 cursor-pointer gap-2 w-full h-full",children:[(0,b.jsx)(g.oSY,{className:"w-6 h-6"}),"Upload Profile Image"]})}),_&&(0,b.jsxs)("div",{className:"h-28 w-28 relative rounded-full overflow-hidden",onMouseEnter:function(){R(!0)},onMouseLeave:function(){R(!1)},children:[(0,b.jsx)("img",{src:_,alt:"Uploaded",className:"h-full w-full object-cover transition duration-300 ease-in-out"}),(0,b.jsx)("div",{className:"w-full h-full bg-[rgba(0,0,0,0.5)] absolute top-0 left-0 opacity-0 transition-opacity duration-300 ".concat(D?"opacity-100":"opacity-0"),children:(0,b.jsx)(p.ZkW,{className:"text-red-500 text-3xl absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 cursor-pointer",onClick:function(){E(""),L(!0)}})})]}),(0,b.jsx)("div",{children:(0,b.jsx)("button",{type:"submit",className:"flex w-full justify-center rounded-md ".concat("loading"===V?"opacity-50":"bg-custom-gradient opacity-100 "," px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm ").concat("loading"===V?"":"hover:bg-blue-700 ","focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-800"),disabled:"loading"===V,children:"loading"===V?"Loading...":"Sign Up"})})]}),(0,b.jsxs)("p",{className:"mt-10 text-center text-sm text-gray-500",children:["Already a Member?"," ",(0,b.jsx)(d.rU,{to:"/login",className:"font-semibold leading-6 text-blue-800 hover:text-blue-700",children:"Log In"})]})]})]})})]})}var j=function(){return(0,b.jsx)("div",{children:(0,b.jsx)(w,{})})}},1469:function(e,s,t){t.d(s,{c:function(){return l}});var a=t(4165),r=t(5861),n=t(5294),l=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(s){var t,r,l;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("file",s),t.append("upload_preset","images_presets"),e.prev=3,e.next=6,n.Z.post("https://api.cloudinary.com/v1_1/dh6rm1bj6/image/upload",t);case 6:return r=e.sent,l=r.data,e.abrupt("return",{publicId:null===l||void 0===l?void 0:l.public_id,url:null===l||void 0===l?void 0:l.secure_url});case 11:return e.prev=11,e.t0=e.catch(3),console.error("Error uploading image:",e.t0),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(s){return e.apply(this,arguments)}}()},9093:function(e,s,t){e.exports=t.p+"static/media/Logo.3d3ed81ab2518dee6eff.png"}}]);
//# sourceMappingURL=993.20e2cfc5.chunk.js.map